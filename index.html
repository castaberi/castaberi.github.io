
<!DOCTYPE HTML>
<html lang="en-US">
<head>



<meta http-equiv="Content-Type" content="text/html, charset=UTF-8" />
	<title>NYC Restaurants</title>
	
	<!-- Meta -->
	<meta charset = "UTF-8" />
	
	<!-- Responsive stylesheet -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<!-- IE stylesheet -->
	<!--[if lte IE 8]><link rel="stylesheet" type="text/css" href="http://407spxynzez3vk3mt1ov2n5i.wpengine.netdna-cdn.com/demo-clutterless/wp-content/themes/clutterless/styles/ie.css" /><![endif]-->
	
	<!-- RSS Feed -->
	<!-- <link rel="alternate" type="application/rss+xml" title="Clutterless Demo RSS Feed" href="http://hitdelete.com/demo-clutterless/feed/" /> -->
	
	<!-- Pingbacks -->
	<!--<link rel="pingback" href="http://hitdelete.com/demo-clutterless/xmlrpc.php" />-->
	


<link rel='stylesheet' id='clutterless-css'  href='http://407spxynzez3vk3mt1ov2n5i.wpengine.netdna-cdn.com/demo-clutterless/wp-content/themes/clutterless/style.css?ver=1.6' type='text/css' media='all' />
<link rel='stylesheet' id='google-webfonts-nc-css'  href='http://fonts.googleapis.com/css?family=News+Cycle%3A400&#038;ver=4.5.2' type='text/css' media='all' />
<link rel='stylesheet' id='google-webfonts-mw-css'  href='http://fonts.googleapis.com/css?family=Merriweather%3A700&#038;ver=4.5.2' type='text/css' media='all' />-->
<!--<link rel='stylesheet' id='sccss_style-css'  href='http://hitdelete.com/demo-clutterless?sccss=1&#038;ver=4.5.2' type='text/css' media='all' />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js?ver=4.5.2'></script>
<!-- <script type='text/javascript' src='http://407spxynzez3vk3mt1ov2n5i.wpengine.netdna-cdn.com/demo-clutterless/wp-content/themes/clutterless/js/jquery.fitvids.min.js?ver=4.5.2'></script>-->
<!--<script type='text/javascript' src='http://407spxynzez3vk3mt1ov2n5i.wpengine.netdna-cdn.com/demo-clutterless/wp-content/themes/clutterless/js/clutterless-fitvids.js?ver=4.5.2'></script>-->
<!--<script type='text/javascript' src='http://407spxynzez3vk3mt1ov2n5i.wpengine.netdna-cdn.com/demo-clutterless/wp-content/themes/clutterless/js/css-browser-selector.js?ver=4.5.2'></script>-->
<link rel='https://api.w.org/' href='http://hitdelete.com/demo-clutterless/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://hitdelete.com/demo-clutterless/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://hitdelete.com/demo-clutterless/wp-includes/wlwmanifest.xml" /> 


	<!-- Embedded WP Customizer Code Start-->
	<style>
		body
		{background: #F8F8F8;}
		#sidebar-name .sidebar-name-wrap,#sidebar-inner
		{background: #18BCEB !important;}
		#sidebar,#sidebar a,#sidebar-inner #search #search-form #search-field
		{color:#FFFFFF;}
		#content
		{color: ; text-shadow: 0 1px 0 #FFFFFF;}
		#content .post-title h2, #content .post-title h2 a
		{color: #333333;}
		#content  .post-content h2,#content  .post-content h3,#content  .post-content h4
		{color: #444444;}
		#content  .post-date, #content  .post-date a, #return a
		{color: #999999;}
		#content .post-content a
		{color: #444444;  border-bottom: 1px dotted #444444;}
		#content .post-content a:hover
		{color: #18BCEB;  border-bottom: 1px dotted #18BCEB;}
		html { min-width: 960px; }
						
		
		
		#boroughs {
		  stroke: grey;
			stroke-width: 2px;
			fill: steelblue;
		}

		.legend {
		  font-size: 10px;
		}

		.zipcode path{
		  stroke: #fff;
		  stroke-linejoin: round;
		  opacity: 1;
		}

		div.mouseover{
			position: absolute;
			background: black;
			background-color: rgba(0,0,0,0.5);
			border: 1px solid #131313;
			color: white;
			padding: 5px 8px;
			margin-left: 100px;
			margin-top: 50px;
			display: none;
		}


		#map-controls {
		  position: absolute;
		  width: 940px;
		  padding: 10px;
		  z-index: 1;
		  font-size: 14px;
		}


		#bar-controls {
		  position: absolute;
		  width: 940px;
		  padding: 10px;
		  z-index: 1;
		  font-size: 14px;
		}

						
		.bar {
			fill: steelblue;
			-moz-transition: all 0.3s;
			-o-transition: all 0.3s;
			-webkit-transition: all 0.3s;
			transition: all 0.3s;
		}

		.bar:hover {
			fill: brown;
		}

		.x.axis path {
		  display: none;
		}

		.axis path,
		.axis line {
		  font: 15px sans-serif;
		  fill: none;
		  stroke: #000;
		  shape-rendering: crispEdges;
		}	
		
		
		.dot {
		  stroke: #000;
		}
				
		
	</style>
</head>
	
	
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="colorbrewer.min.js"></script>
<script src="myfunctions.js"></script>
	
	
<body class="NYC Restaurants" id="ajax-on">  
<div class="mouseover"></div>


  <div id="ipad-click"><div id="content">	
         <div id="post">                       
            <div class="post" id="post-869" class="post-869 post type-post status-publish format-standard hentry category-blog">

  <div class="post-date">
    <a>17 May 2016</a>
  </div><!-- .post-date -->

  <div class="post-title">
    <h2>Predicting NYC Restaurant Inspection Scores</a></h2> 
  </div><!-- .post-title -->

  <div class="post-content">
      <p>New York City is home to more than 24,000 food establishments of various sorts which we shall simply refer to collectively as “restaurants”. Each restaurant is occasionally inspected by the New York City Department of Health and Mental Hygiene (DOHMH) with the objective of ensuring food safety. After each inspection, a restaurant receives a score which is computed as a sum of violation points. The number of points a particular violation results in, depends on the severity of the violation. The final score is then converted into a grade of either “A”, “B” or “C”. Restaurants with a score of 13 or below receive an “A”, restaurants with a score between 14 and 27 receive a “B” and a score above 27 results in a “C”. For a more elaborate description of the inspection process and the types of violations, you can read the <a href="https://data.cityofnewyork.us/Health/DOHMH-New-York-City-Restaurant-Inspection-Results/xx67-kt59" target="_blank">DOHMH Blue Book</a>. </p>
<p>Our <strong>goal</strong> is to investigate if it is possible to tell something about the hygiene and food safety of a restaurant based only on simple and readily available information such as the cuisine type and location of the restaurant. We will focus on the inspection scores as a measure for the hygiene of a restaurant. </p>






<h3>The Data</h3>
<p>The data on the NYC restaurant inspections are available on <a href='http://www.nyc.gov/html/doh/downloads/pdf/rii/blue-book.pdf' target="_blank">NYC Open Data</a>. In its entirety the data consist of about 560,000 records each corresponding to a single inspection. For each record there is information about the</p>
<ul>
<li>name and address of the restaurant</li>
<li>cuisine</li>
<li>date of inspection</li>
<li>type of violations</li>
<li>grade and score</li>
</ul>
<p>Since each restaurant may have been scored multiple times, we use the average score as a measure for a restaurant’s overall hygiene level. After some data cleansing we end up with a data set of 24,877 unique restaurant.</p>
<p>Besides the data from NYC Open Data, we will also collect user review data from <a href="http://www.yelp.com/nyc" target="_blank">Yelp</a> which is site where people can review restaurants. Data are collected using the <a href="https://www.yelp.dk/developers/documentation/v2/search_api" target="_blank">Yelp Search Api</a>.</p>

<h3>Geographical Information</h3>
<p>The map of New York City visualises the distribution of the restaurants in NYC as well as the average scores. We see that Manhattan, the most densely populated borough of NYC, also has a relatively large number of restaurants.</p>

<p>Toggling to the average scores, we notice that the average score above 13 corresponding to the grade B. However, most restuarant do in fact currently have the grade A. This is caused by most restuarant earning the grade A only upon reinspection. It should be noted that because most restaurants have scores around 15-17 with some outliers, we have chosen to use score colour intervals for the choropleth such that the number of restaurants within each intervals is about equal. Toggling between the number of restaurants and average scores, it does appear that lowest performing regions, are those which lie in some distance around Manhattan.</p>

<p>Discuss whether geo information can be used to predict scores.</p>

<div id="map-controls">
  <input name="mode1" type="radio" value="N_REST" id="mode-map-nrest" class="map-nrest" checked><label for="mode-map-nrest"> Number of restaurants</label>
  <input name="mode1" type="radio" value="AVG_SCORE" id="mode-map-score" class="map-score"><label for="mode-map-score"> Average score</label>
</div>
<div id="chart" align="center"></div>
<script>
	makeMap("#chart");
</script>





<h3>Cuisine Types</h3>
<p>The data contain a total of 83 distinct cusine descriptions. We have grouped these into 13 categories the distribution of which is shown in the bar chart below. The cuisine descriptions for each category can be seen by holding the curser over each bar. The american cuisine is plentiful but foregin cuines such as Aisian and Latin are popular too.</p>
<div id="bar-controls" class="test">
  <input name="mode" type="radio" value="N_REST" id="mode-nrest" class="bar-frequency" checked><label for="mode-nrest"> Frequency </label>
  <input name="mode" type="radio" value="AVG_SCORE" id="mode-score" class="bar-score"><label for="mode-score"> Average score</label>
</div>

<div id="map" align="center"></div>
<script>
	makeBarPlot("#map");
</script>

<p>Toggling to the average scores, we notice that all cuisine categories performing below the average of the categories are foreign cuisines. In particular, African restaurants perform the worst, possibly owing to the fact that hands are used a lot in preparing the food - something that might explain low scores for other cuines as well. As such, the type of cuisine may be an important factor in predicting the food safety of a restaurant.</p>

<p>The average inspection score is lowest in cafes. This is hardly surprising since cafes mainly deal with drinks (coffee and tea) much less than they deal with food as other restaurants. For similar reasons the category "Other" scores quite low. This majority of restaurants in this category deal with low-risk food such as ice creams, juice and so on.</p>



<h3>User Reviews</h3>
<p>Do Yelp reviews provide any information about food safety?</p>


<div class="filter_options">
<button class="all_button" type='button' value="check">Check All</button>
<button class="all_button" type='button' value="uncheck">Uncheck All</button><br>
<input class="filter_button" value="African" id="a_button" type="checkbox" checked="checked">African</input>&nbsp;
<input class="filter_button" value="American" id="b_button" type="checkbox" checked="checked">American</input>&nbsp;
<input class="filter_button" value="Asian" id="c_button" type="checkbox" checked="checked">Asian</input>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<input class="filter_button" value="Bakery" id="d_button" type="checkbox" checked="checked">Bakery</input><br>
<input class="filter_button" value="Cafe" id="e_button" type="checkbox" checked="checked">Cafe</input>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<input class="filter_button" value="Chinese" id="f_button" type="checkbox" checked="checked">Chinese</input>&nbsp;&nbsp;&nbsp;
<input class="filter_button" value="European" id="g_button" type="checkbox" checked="checked">European</input>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<input class="filter_button" value="Fast Food" id="h_button" type="checkbox" checked="checked">Fast Food</input><br>
<input class="filter_button" value="Italian" id="i_button" type="checkbox" checked="checked">Italian</input>&nbsp;&nbsp;&nbsp;
<input class="filter_button" value="Latin" id="j_button" type="checkbox" checked="checked">Latin</input>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<input class="filter_button" value="Mediterranean" id="k_button" type="checkbox" checked="checked">Mediterranean</input>&nbsp;
<input class="filter_button" value="Other" id="l_button" type="checkbox" checked="checked">Other</input>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<input class="filter_button" value="Seafood" id="m_button" type="checkbox" checked="checked">Seafood</input><br>
</div>
<div id="scatter" align="center"></div>
<script>
	makeScatter("#scatter");
</script>





<h3>Discussion</h3>
<p>In our analysis we have used the average DOHMH inspection scores as a measure for the hygiene of a restaurant.  However, it should be noted that <a href="http://www.businessinsider.com/whats-wrong-with-nyc-restaurant-ratings-2014-3?IR=T" target="_blank">criticism of the scoring system</a> can be drawn.</p>





  </div><!-- .post-content -->

  
</div><!-- /.post -->                                   
            <div class="navigation"></div><!-- AJAX navigation -->            
          </div><!-- #post -->
 </div></div><!-- #content #ipad-click --> 

 <div class="clear"></div>



</body>
</html>
